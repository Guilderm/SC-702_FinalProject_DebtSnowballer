@using DebtSnowballer.Shared.Currency
<h3>Select your base currency</h3>
<p>All loans will be converted to your base currency. All calculations and reports will also be made using this currency.</p>
<br>
<select @onchange="OnChange" value="@UserCurrency">
	@foreach (CurrencyInfo currency in Currencies.All)
	{
		<option value="@currency.AlphaCode">@currency.Name (@currency.AlphaCode)</option>
	}
</select>

<br>
<br>

@code {

	[Parameter]
	public string UserCurrency { get; set; }

	[Parameter]
	public EventCallback<string> UpdateBaseCurrency { get; set; }

	[Parameter]
	public EventCallback<string> UpdatedBaseCurrency { get; set; }

	private async Task OnChange(ChangeEventArgs newCurrency)
	{
		await UpdatedBaseCurrency.InvokeAsync(newCurrency.Value.ToString());
	}

}